{"version":3,"file":"static/webpack/static\\development\\pages\\campaigns\\requests.js.ca10b6c4dab87b428c66.hot-update.js","sources":["webpack:///./pages/campaigns/requests/index.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Button, Table } from \"semantic-ui-react\";\r\nimport { Link } from \"../../../routes\";\r\nimport Layout from \"../../../components/layout\";\r\nimport web3 from \"../../../ether/web3\";\r\nimport camp_abt from \"../../../ether/build/campaign.json\";\r\n\r\nclass Request extends Component {\r\n  static async getInitialProps(props) {\r\n    //const address = props.query.address;\r\n    const camp = await new web3.eth.Contract(\r\n      JSON.parse(camp_abt.interface),\r\n      props.query.address\r\n    );\r\n    const tot_req = await camp.methods.getreqlen().call();\r\n    console.log(\"number of request present is \", tot_req);\r\n\r\n    const requests = await Promise.all(\r\n      Array(parseInt(tot_req))\r\n        .fill()\r\n        .map((element, index) => {\r\n          return camp.methods.reqarray(index).call();\r\n        })\r\n    );\r\n    console.log(\"retrived reuests are\", requests);\r\n    return { address: props.query.address };\r\n  }\r\n\r\n  render() {\r\n    const { Header, Row, Headercell, Body } = Table;\r\n    return (\r\n      <Layout>\r\n        <h3>Open Request</h3>\r\n        <Link route={`/campaigns/${this.props.address}/requests/new`}>\r\n          <a>\r\n            <Button primary>Add request </Button>\r\n          </a>\r\n        </Link>\r\n        <Table>\r\n          <Header>\r\n            <Row>\r\n              <Headercell>'ID'</Headercell>\r\n            </Row>\r\n          </Header>\r\n        </Table>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Request;\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAqBA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAEA;AAAA;AAYA;;;;;;AAvCA;;;;;;;AAEA;AACA;;AADA;;AAIA;AACA;;AADA;AACA;;AAEA;AAIA;AACA;AACA;;AANA;AAOA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAnBA;AACA;AA0CA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}